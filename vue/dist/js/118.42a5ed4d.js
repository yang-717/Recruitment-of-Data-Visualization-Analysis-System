"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[118],{6118:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var o=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card",staticStyle:{"font-size":"24px","font-weight":"bold","margin-bottom":"10px",color:"#2c334c"}},[e._v("城市分析")]),t("div",{staticClass:"card",staticStyle:{"font-size":"18px","font-weight":"bold",color:"#2c334c"}},[t("el-select",{attrs:{placeholder:"Select"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._m(0)])},l=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex","padding-top":"10px"}},[t("div",{staticStyle:{flex:"1","padding-right":"10px"}},[t("div",{staticClass:"card",staticStyle:{height:"450px"},attrs:{id:"line"}})]),t("div",{staticStyle:{flex:"1"}},[t("div",{staticClass:"card",staticStyle:{height:"450px"},attrs:{id:"pie"}})])])}],i=a(8e3),s={name:"CityAnalysis",data(){return{options:[],value:""}},created(){this.getCitySalaryCategoryCount(),this.getCompanyPeopleCategory()},methods:{getCitySalaryCategoryCount(){this.$request.get("/jobData/citySalary").then((e=>{if("200"===e.code){const t=e.data,a=[...new Set(t.map((e=>e.city)))];this.options=a.map((e=>({value:e,label:e})));const o=this.value||a[0],l=t.filter((e=>e.city===o)),s=[...new Set(l.map((e=>e.salaryCategory)))].sort(((e,t)=>{const a=e=>e.includes("以上")?1/0:parseInt(e.split("-")[0],10);return a(e)-a(t)})),r=s.map((e=>{const t=l.find((t=>t.salaryCategory===e));return t?t.count:0})),n=[{name:o,type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new i.Q.o(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},data:r}],c={color:["#00DDFF"],title:{text:"城市薪资区间分布图"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:[o]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:s}],yAxis:[{type:"value"}],series:n};let p=document.getElementById("line"),d=i.S1(p);d.setOption(c)}else this.$message.error(e.message)}))},getCompanyPeopleCategory(){this.$request.get("/jobData/companyPeopleCategory").then((e=>{if("200"===e.code){const t=e.data,a=[...new Set(t.map((e=>e.city)))];this.options=a.map((e=>({value:e,label:e})));const o=this.value||a[0];this.value=o,this.renderPieChart(o,t)}else this.$message.error(e.message)}))},renderPieChart(e,t){const a=t.filter((t=>t.city===e)),o=a.map((e=>({name:e.companyPeople,value:e.count}))),l={title:{text:"公司规模区间分布图"},tooltip:{trigger:"item"},legend:{bottom:"5%",left:"center"},series:[{name:"公司人数分布",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:o}]};let s=document.getElementById("pie"),r=i.S1(s);r.setOption(l)}},watch:{value(){this.getCitySalaryCategoryCount(),this.getCompanyPeopleCategory()}}},r=s,n=a(3736),c=(0,n.Z)(r,o,l,!1,null,null,null),p=c.exports}}]);
//# sourceMappingURL=118.42a5ed4d.js.map