"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[889],{889:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var a=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card",staticStyle:{"font-size":"24px","font-weight":"bold","margin-bottom":"10px",color:"#2c334c"}},[e._v("经历分析")]),t("div",{staticClass:"card",staticStyle:{"font-size":"18px","font-weight":"bold",color:"#2c334c"}},[e._v("经验&薪资人数分布图")]),t("div",{staticStyle:{display:"flex"}},[t("div",{staticClass:"card",staticStyle:{height:"450px",flex:"1"},attrs:{id:"bar"}})]),t("div",{staticClass:"card",staticStyle:{"font-size":"18px","font-weight":"bold",color:"#2c334c"}},[e._v("学历分布图")]),t("div",{staticStyle:{display:"flex"}},[t("div",{staticClass:"card",staticStyle:{height:"500px",flex:"1"},attrs:{id:"pie"}})])])}],l=(o(7658),o(8e3)),r={name:"ExperienceAnalysis",data(){return{}},created(){this.getExperienceSalaryCount(),this.getEducationCount()},methods:{getExperienceSalaryCount(){this.$request.get("/jobData/experienceSalaryCount").then((e=>{if("200"===e.code){const t=e.data,o=["经验在校","经验1年以下","经验3-5年","经验5-10年","经验10年以上","经验不限"],a={};t.forEach((e=>{a[e.workExperience]={averageSalary:e.averageSalary,count:e.count,resolvedCount:Math.round(.7*e.count)}}));const i=o,r=o.map((e=>Math.round(a[e]?.averageSalary||0))),n=o.map((e=>a[e]?.resolvedCount||0)),c=o.reduce(((e,t)=>e+(a[t]?.count||0)),0),s=o.map((e=>a[e]&&c?(a[e].count/c*100).toFixed(2):"0.00"));let d={tooltip:{trigger:"axis",axisPointer:{type:"line"},backgroundColor:"rgba(9, 24, 48, 0.5)",borderColor:"rgba(75, 253, 238, 0.4)",textStyle:{color:"#CFE3FC"}},legend:[{data:["平均薪资（元）"],top:"0",x:"0",itemWidth:8,borderColor:"rgba(255, 192, 0, 1)",textStyle:{color:"rgba(0,0,0,.4)",fontSize:12},icon:"circle"},{data:["人数"],top:"0",x:"15%",itemWidth:8,textStyle:{color:"rgba(0,0,0,.4)",fontSize:12},icon:"circle"},{data:["人数占比(%)"],top:"0",x:"90%",itemStyle:{borderWidth:2},textStyle:{color:"rgba(0,0,0,.4)",fontSize:12},itemWidth:15,itemHeight:8}],grid:{left:"20px",right:"20px",top:"70px",bottom:"30px",containLabel:!0},toolbox:{show:!0,orient:"vertical",x:"right",y:"center"},xAxis:[{type:"category",boundaryGap:!0,axisTick:{show:!1},data:i,axisLine:{show:!1,lineStyle:{color:"rgba(0, 0, 0, 0.2)"}},axisLabel:{interval:0,color:"rgba(0, 0, 0, 1)",fontSize:14}}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.2)"},symbol:["none","arrow"],symbolSize:[5,12],symbolOffset:[0,10]},axisLabel:{interval:0,color:"rgba(54,58,68,0.70)",fontSize:14},splitLine:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.2)",width:1,type:"solid"}}},{type:"value",axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"rgba(207, 227, 252, 1)"},symbol:["none","arrow"],symbolSize:[5,12],symbolOffset:[0,10]},axisLabel:{interval:0,color:"rgba(54,58,68,0.70)",fontSize:14,formatter:"{value}%"},splitLine:{show:!1,lineStyle:{color:"rgba(39, 57, 75, 1)",width:1,type:"solid"}}}],series:[{name:"人数占比(%)",yAxisIndex:1,type:"line",smooth:!0,showSymbol:!1,areaStyle:{color:new l.Q.o(0,0,0,1,[{offset:0,color:"rgba(32,128,247,.4)"},{offset:1,color:"rgba(32,128,247,0)"}])},data:s,symbol:"circle",symbolSize:8,itemStyle:{normal:{color:"#2080F7",borderColor:"#2080F7",lineStyle:{color:"#2080F7"}}}},{z:2,type:"bar",yAxisIndex:0,name:"平均薪资（元）",itemStyle:{normal:{color:"#2080F7"}},barWidth:24,data:r},{z:1,type:"bar",barGap:"-100%",yAxisIndex:0,name:"人数",itemStyle:{normal:{color:"#B2D4FF"}},barWidth:24,data:n}]},u=document.getElementById("bar"),y=l.S1(u);y.setOption(d)}else this.$message.error(e.message)}))},getEducationCount(){this.$request.get("/jobData/educationCount").then((e=>{console.log("bar",e.data);const t=e.data,o={"本科":"本科","硕士":"硕士","博士":"博士","大专":"大专","应届":"本科","不限":"其他"},a={};t.forEach((e=>{const t=o[e.education]||"其他";a[t]||(a[t]=0),a[t]+=e.count}));const i=Object.keys(a).map((e=>({name:e,value:a[e],unit:"人"})));let r=["#FF8700","#ffc300","#00e473","#009DFF"],n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAOBAMAAAB6G1V9AAAAD1BMVEX////Kysrk5OTj4+TJycoJ0iFPAAAAG0lEQVQ4y2MYBaNgGAMTQQVFOiABhlEwCugOAMqzCykGOeENAAAAAElFTkSuQmCC",c=[],s=[],d=[],u=[],y=0;i.forEach(((e,t)=>{c.push(e.name),s.push(e.value),y+=e.value})),i.forEach(((e,t)=>{d.push({name:"学历",type:"pie",clockWise:!1,hoverAnimation:!1,radius:[65-15*t+"%",57-15*t+"%"],center:["30%","50%"],label:{show:!1},data:[{value:e.value,name:e.name},{value:y-e.value,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),d.push({name:"",type:"pie",silent:!0,z:1,clockWise:!1,hoverAnimation:!1,radius:[65-15*t+"%",57-15*t+"%"],center:["30%","50%"],label:{show:!1},data:[{value:7.5,itemStyle:{color:"#E3F0FF"}},{value:2.5,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),e.percent=(e.value/y*100).toFixed(1)+"%",u.push({value:t,textStyle:{rich:{circle:{color:r[t],padding:[0,5]}}}})}));const h={backgroundColor:"#fff",color:r,grid:{top:"15%",bottom:"54%",left:"30%",containLabel:!1},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(e){let t=i[e];return"{line|}{circle|●}{name|"+t.name+"}{bd||}{percent|"+t.percent+"}{value|"+t.value+"}{unit|人}"},interval:0,inside:!0,textStyle:{color:"#333",fontSize:14,rich:{line:{width:170,height:10,backgroundColor:{image:n}},name:{color:"#666",fontSize:14},bd:{color:"#ccc",padding:[0,5],fontSize:14},percent:{color:"#333",fontSize:14},value:{color:"#333",fontSize:16,fontWeight:500,padding:[0,0,0,20]},unit:{fontSize:14}}},show:!0},data:u}],xAxis:[{show:!1}],series:d};let b=document.getElementById("pie"),p=l.S1(b);p.setOption(h)}))}}},n=r,c=o(3736),s=(0,c.Z)(n,a,i,!1,null,null,null),d=s.exports}}]);
//# sourceMappingURL=889.7308e37b.js.map