"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[32],{7032:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var l=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"search"},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入标题查询"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",plain:""},on:{click:function(e){return t.load(1)}}},[t._v("查询")]),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",plain:""},on:{click:t.reset}},[t._v("重置")])],1),e("div",{staticClass:"operation",staticStyle:{display:"flex",gap:"10px","margin-top":"4px"}},[e("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择城市"},on:{change:function(e){return t.load(1)}},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择岗位类型"},on:{change:function(e){return t.load(1)}},model:{value:t.jobType,callback:function(e){t.jobType=e},expression:"jobType"}},t._l(t.typeOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"job-list"},t._l(t.tableData,(function(a){return e("el-card",{key:a.id,staticClass:"job-card",attrs:{shadow:"hover"},nativeOn:{mouseenter:function(e){t.hoveredJobId=a.id},mouseleave:function(e){t.hoveredJobId=null}}},[e("div",{staticClass:"job-header"},[e("h3",{staticClass:"job-title"},[t._v(t._s(a.title))]),e("div",{staticClass:"salary"},[t._v(t._s(t.formatSalaryRange(a)))])]),e("div",{staticClass:"job-info"},[e("p",[t._v("公司："+t._s(a.companyTitle))]),e("p",[t._v("地点："+t._s(a.city))]),e("p",[t._v("经验要求："+t._s(a.workExperience))]),e("p",[t._v("学历要求："+t._s(a.education))])]),e("div",{staticClass:"job-tags"},t._l(t.parseTags(a.workTag),(function(a){return e("el-tag",{key:a,attrs:{size:"small"}},[t._v(t._s(a))])})),1),e("div",{staticClass:"job-welfare"},t._l(t.parseTags(a.welfare),(function(a){return e("el-tag",{key:a,attrs:{type:"success",size:"small"}},[t._v(t._s(a))])})),1),t.hoveredJobId===a.id?e("div",{staticClass:"job-detail-hover"},[e("p",[e("strong",[t._v("岗位描述：")])]),t._l(t.parseTags(a.totalTag),(function(a){return e("el-tag",{key:a,attrs:{type:"info",size:"mini"}},[t._v(" "+t._s(a)+" ")])}))],2):t._e()])})),1),e("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{background:"",layout:"total, prev, pager, next","current-page":t.pageNum,"page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)},s=[],i={name:"JobInfo",data(){return{tableData:[],pageNum:1,pageSize:10,total:0,title:null,city:null,jobType:null,fromVisible:!1,form:{},user:JSON.parse(localStorage.getItem("xm-user")||"{}"),rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},ids:[],hoveredJobId:null,options:[],value:"",typeOptions:[]}},created(){this.load(1),this.selectAll()},methods:{selectAll(){this.$request.get("/jobData/filters").then((t=>{console.log("filters接口返回:",t.data);const e=t.data||{};this.options=(e.cityList||[]).map((t=>({label:t,value:t}))),this.typeOptions=(e.typeList||[]).map((t=>({label:t,value:t})))}))},load(t){console.log("当前选择的城市:",this.city),t&&(this.pageNum=t),this.$request.get("/jobData/selectPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,title:this.title,city:this.city,type:this.jobType}}).then((t=>{console.log("jobList",t.data),this.tableData=t.data?.list,this.total=t.data?.total}))},reset(){this.title=null,this.city=null,this.jobType=null,this.load(1)},formatSalaryRange(t){const e=t.minSalary?Math.round(t.minSalary/1e3):null,a=t.maxSalary?Math.round(t.maxSalary/1e3):null;return e&&a?`${e}k-${a}k`:e?`${e}k以上`:a?`${a}k以下`:"面议"},parseTags(t){const e=t?t.split(/[，,、|/]/).filter(Boolean):[];return e},handleCurrentChange(t){this.load(t)}}},n=i,o=a(3736),r=(0,o.Z)(n,l,s,!1,null,"1c5f4405",null),c=r.exports}}]);
//# sourceMappingURL=32.52bd51da.js.map