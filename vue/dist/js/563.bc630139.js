"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[563],{563:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this;e._self._c;return e._m(0)},o=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card",staticStyle:{"font-size":"24px","font-weight":"bold","margin-bottom":"10px",color:"#2c334c"}},[e._v("薪资分析")]),t("div",{staticStyle:{display:"flex"}},[t("div",{staticClass:"card",staticStyle:{height:"450px",flex:"1"},attrs:{id:"bar"}})]),t("div",{staticStyle:{"margin-top":"10px",display:"flex"}},[t("div",{staticClass:"card",staticStyle:{height:"500px",flex:"1"},attrs:{id:"pie"}})])])}],l=(a(7658),a(8e3)),s={name:"SalaryAnalysis",data(){return{}},created(){this.getIndustrySalaryCategoryCount(),this.getIndustryAverageSalary()},methods:{getIndustrySalaryCategoryCount(){this.$request.get("/jobData/industrySalaryCategoryCount").then((e=>{if("200"===e.code){let t=document.getElementById("bar"),a=l.S1(t);const r=e.data,o=["0-5000","5000-7000","7000-10000","10000-20000","200000以上"],s={};r.forEach((e=>{s[e.industry]||(s[e.industry]={}),s[e.industry][e.salaryCategory]=e.count}));const i=Object.keys(s).map((e=>({name:e,type:"bar",data:o.map((t=>s[e][t]||0))}))),n={title:{text:"行业薪资分布对比图"},tooltip:{trigger:"axis"},legend:{data:Object.keys(s)},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:{type:"category",data:o},yAxis:{type:"value"},series:i};a.setOption(n)}else this.$message.error(e.message)}))},getIndustryAverageSalary(){this.$request.get("/jobData/industryAverageSalary").then((e=>{if("200"===e.code){const t=e.data,a=["#FF9999","#FFB03F","#3DBA2D","#2BA6FE","#9B59B6","#F39C12","#2ECC71"],r=a.map((e=>e.replace(")",", 0.4)").replace("rgb","rgba"))),o={label:{show:!1},labelLine:{show:!1},color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0},s=[];for(let e=0;e<t.length;e++)s.push({data:t[e].averageSalary.toFixed(0),value:20,name:t[e].industry,itemStyle:{color:a[e%a.length],borderWidth:20,borderColor:r[e%r.length]}},{value:8,name:"",itemStyle:o});s.push({value:40,name:"",itemStyle:o});const i=(t.reduce(((e,t)=>e+t.averageSalary),0)/t.length).toFixed(0),n={backgroundColor:"#fff",tooltip:{show:!1},legend:{show:!1},toolbox:{show:!1},series:[{type:"pie",clockwise:!1,radius:[100,200],emphasis:{scale:!1,label:{show:!0,position:"inner",color:"#333",fontSize:14}},startAngle:-30,label:{show:!0,position:"inner",color:"#333",fontSize:14,formatter:function(e){const t=/[\u4e00-\u9fa5]/.test(e.name);return""!==e.name?t&&e.name.length>4?e.name.slice(0,3)+"\n"+e.name.slice(3):e.name:""}},labelLine:{length:25,length2:40,show:!0},itemStyle:{color:a[0],borderWidth:20,borderColor:r[0]},data:s},{type:"pie",clockwise:!1,radius:[100,200],silent:!1,startAngle:-30,label:{show:!0,position:"outside",fontSize:16,formatter:function(e){return""!==e.name?e.data.data+" 元":""}},labelLine:{length:30,length2:60,show:!0},itemStyle:{color:a[0],borderWidth:20,borderColor:r[0]},data:s}],graphic:[{type:"group",left:"center",top:"middle",children:[{type:"text",z:100,left:"center",top:"0",style:{fill:"#333",text:["行业平均薪资"],font:"16px Microsoft YaHei"}},{type:"text",z:100,left:"center",top:"32",style:{fill:"red",text:[i+" 元"],font:"26px Microsoft YaHei"}}]}]};let d=document.getElementById("pie"),c=l.S1(d);c.setOption(n)}else this.$message.error(e.message)}))}}},i=s,n=a(3736),d=(0,n.Z)(i,r,o,!1,null,null,null),c=d.exports}}]);
//# sourceMappingURL=563.bc630139.js.map